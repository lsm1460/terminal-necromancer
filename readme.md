## 0. 남은 작업 정리

- 스킬 구현중..
  - 사신에게서 사용할 마법 4개 선택하기 기능 추가
  - 두 팩션과 같이 있을 때 한 팩션을 사망시킨 후 부활 또는 스킬을 하면 npc의 관계수치가 하락하는 로직..?
- 아이템 등급 개요

  - 아이템의 높은 등급 시 추가 스탯 부여
  - common 추가 스탯 없음
  - rare: 추가 스탯부여
    - (추가 공격력, 추가 방어력, 크리티컬, 회피, 민첩, 스킬 대미지 증가)
  - epic: affix 보유

    - 뼈 창이 적 진형의 뒤에서 날라온다
    - 뼈 감옥 (묶는 적의 수 + 1)
    - 스켈레톤 보유 수 증가
    - 스켈레톤 생성 등급 향상
    - 스켈레톤 죽을 시 폭발
    - Frostborne(공격 시 디버프 부여)
    - 스켈레톤 부활 시 사역가능한 수 만큼의 시체 전체 부활
    - 가시 골렘 (골렘에 반격 대미지 부여)
    - 골렘의 괴성 (뒷 열 공격 스킬의 타게팅을 골렘에게 가져옴) (될까..?)
    - 리치 (다크나이트를 리치로 전직시키고 스킬 (시체 폭발, 뼈 감옥)을 해금함)
    - 군마 (다크나이트의 공격이 전체공격으로 전환)
    - 부식 (저주를 공격력 감소에서 방어력 감소로 바꿈)
    - 연쇄 (시체폭발이 스켈레톤을 포함한 모든 시체의 폭발로 바꿈)
    - 흡혈 (영혼 흡수가 체력을 회복시킴)
    - 고양 (영혼 흡수가 마나 회복을 하지 않고 미니언들에게 버프를 부여)p

    어픽스 효과,추천 수식어 (이름 앞),예시 명칭
    뼈 창 (진형 후방 타격),[관통하는] 또는 [심연의],관통하는 뼈 지팡이
    뼈 감옥 (구속 수 +1),[결박의] 또는 [집착하는],결박의 암흑 오브
    스켈레톤 보유 수 증가,[군주의] 또는 [폭압적인],군주의 해골 반지
    스켈레톤 생성 등급 향상,[선별된] 또는 [정예의],선별된 사령관의 검
    스켈레톤 사망 시 폭발,[종말의] 또는 [불온한],종말의 영혼 가루
    Frostborne (공격 시 디버프),[영겁의 서리],영겁의 서리 낫
    시체 전체 부활 (대량 소환),[대재앙의] 또는 [군단의],대재앙의 성물
    가시 골렘 (반격 데미지),[응징하는] 또는 [가시 박힌],응징하는 수호 석판
    골렘의 괴성 (타겟팅 강제),[울부짖는],울부짖는 강철 갑옷
    다크나이트 → 리치 전직,[불멸자의] 또는 [금기된],불멸자의 고서
    다크나이트 (전체 공격 전환),[전쟁광의],전쟁광의 대검

- 생각해보니 골렘, 데스나이트는 사신에게서 배우는 스킬이 아님..

  - 사신에게서 골렘 해금 시 플레이어의 상태에 추가
  - 보스 쓰러뜨리고 이벤트 후 상태에 추가

- 뼈 창 (앞에서 2번째까지 타격)
- 뼈 감옥 (가장 앞의 적을 3턴동안 묶는다)

- 현재 층에 대한 간략한 지도 출력기능 추가
- 스켈레온에 등급 추가
  - TODO: 장비에 스켈레톤 등급 향상 옵션이 있다면 minIdx + 1
- 몬스터, 이벤트 발생 후, 그 층에 재진입하기 전까지는 몬스터나 이벤트가 리젠되지 않음
- 클리어 시 골렘 제작 스킬 획득, 데스나이트 획득 등 이벤트 추가
- 상점(아이템 구입, 판매)

  - 마야 -> 골렘 강화(기부금에 따라 해금), 데스나이트 강화(기부금에 따라 해금)
  - 케인 -> 용병 고용 (기부금에 따라 해금) 고용 시 기여도 증가, 기부금 납부, 납부 시 factionHostility 수치 감소 & 기여도 증가
  - 용병 부활, npc 공격 시 factionHostility 수치 증가 (boolean -> number), 카르마 수치 증가

- 골렘 만들기
- 데스나이트
  - 사신에게서 레벨업 가능
  - 장비 장착 가능(골드와 장비 주고 마을에서 데스나이트 강화)
- 시체 폭발
- 정수 흡수
- 시체 회수 & 시체가 월드에 있는데 다시 죽을 경우 이전 시체 삭제

# 🚉 터미널: 죽음이 너희를 자유케 하리라

## 1. 세계관 및 컨셉

- **공간:** 사후 세계의 종착역이자 거대한 **지하 기차역(Terminal)**.
- **주인공:** 사신에게 결박된 채 지하로 던져진 전생의 군주(네크로맨서).
- **사신(Death):** B1 대합실에서 영혼의 배차를 관리하는 오만하고 강력한 **역장**.
- **핵심 서사:** 지하 5층까지 내려가 힘을 기른 뒤, 열차를 탈취해 역주행하여 1층의 사신을 처단하는 복수극.

---

## 2. 지하 층별 구조 및 이벤트

| 층       | 구역명              | 핵심 컨셉 및 이벤트                      | 획득 요소                       |
| -------- | ------------------- | ---------------------------------------- | ------------------------------- | ------------------------------------------------------------------ |
| **B1**   | **지옥의 매표소**   | 모든 영혼의 시작점. 1층 보스 격퇴.       | **기망의 망토** (의심도 억제)   |
| **B2**   | **환승 통로**       | 선로 옆 비밀 구역에 숨어든 반격의 기반.  | **레지스탕스 거점** (스킬/거래) | npc: 레지스탕스, 고블린, 코볼트 같은 소형종..                      |
| **B3**   | **강철 하역장**     | 기계 잔해와 화물이 쌓인 정비 구역.       | **골렘** (탱커) 소환 해금       | npc: 노동자, 몬스터: 오우거, 오크..                                |
| **B4**   | **귀빈용 승강장**   | 타락한 영혼들이 머무는 화려한 감옥.      | **나이트** (딜러) 해방          | npc: 하위 신 또는 그들의 종자, 몬스터: 도적 졸개 집단, 미믹 이벤트 |
| **B5**   | **심연의 차량기지** | 멈춰버린 열차들의 묘지. **열차 탈취**.   | **지상행 급행열차 활성화**      | npc: 노동자, 몬스터: 도적 집단 본부, 언데드류                      |
| **결전** | **B1 대합실**       | 열차를 타고 급습하여 사신과 최후의 결전. | **엔딩 분기 결정**              |

---

## 3. 군단 및 성장 시스템

### **[소환수 진형 및 특성]**

- **피해 우선순위:** **골렘 → 스켈레톤 → 용병 → 나이트 → 주인공** (전열 붕괴 시 본체 타격)
- **스켈레톤(3):** 기본 보병. 시체를 소모하여 소환.
- **나이트(1):** **장비 착용 가능**.
- **골렘(1):** 거대 고철 탱커. **회복 불가**. 파괴 시 1층에서 수리.

### **[경제 및 스킬]**

- **경험치(영혼 조각):** 사신(기초 스탯) 또는 레지스탕스(판타지 기술)에게 지불.
- **기술 연마:** 레지스탕스에게 경험치를 써서 정통 판타지 강령술(시체 폭발, 뼈 가시 등) 강화.
- **장비 거래:** 획득한 장비를 레지스탕스에게 팔아 나이트용 무기를 사거나 거점 전력 강화.

---

## 4. 성향(카르마) 및 엔딩 시스템

| 성향     | 카르마 조건         | 빌드 특징                                     | 엔딩 결과                           |
| -------- | ------------------- | --------------------------------------------- | ----------------------------------- |
| **지배** | **NPC 학살 / 강탈** | **본체 화력 특화.** 적의 생명을 직접 흡수.    | 사신을 찬탈하고 새로운 역장이 됨.   |
| **복수** | **명예로운 복수**   | **군단 협격 특화.** 소환수와 장비 시너지.     | 열차로 지상 경계 돌파. 인간계 강림. |
| **안식** | **NPC 구원 / 희생** | **유틸 및 생존 특화.** 가장 어려운 성자의 길. | 모든 영혼과 함께 완전한 소멸(안식). |

---

## 5. 주요 게임 메커니즘

- **의심도 시스템:** 주인공이 강해질수록 사신이 견제함(방송 패널티, 중보스 난입).
- **전투 명령어:** `공격` 입력 시 군단 전체가 일제히 타겟 점사.
- **조우 방식:** 비선공(선택적 살생), 선공(강제 전투), 도주 불가(사신의 사냥개) 존재.
- **텍스트 연출:** 윈도우 터미널 창에 기차역 특유의 안내 방송과 증기 소리를 텍스트로 묘사.

---

## 아이템 개요

- 아이템의 높은 등급 시 추가 스탯 부여
- common 추가 스탯 없음
- rare: 추가 스탯부여
  - (추가 공격력, 추가 방어력, 크리티컬, 회피, 민첩, 스킬 대미지 증가)
- epic: affix 보유

  - 뼈 창이 적 진형의 뒤에서 날라온다
  - 뼈 감옥 (묶는 적의 수 + 1)
  - 스켈레톤 보유 수 증가
  - 스켈레톤 생성 등급 향상
  - 스켈레톤 죽을 시 폭발
  - Frostborne(공격 시 디버프 부여)
  - 스켈레톤 부활 시 사역가능한 수 만큼의 시체 전체 부활
  - 가시 골렘 (골렘에 반격 대미지 부여)
  - 골렘의 괴성 (뒷 열 공격 스킬의 타게팅을 골렘에게 가져옴) (될까..?)
  - 리치 (다크나이트를 리치로 전직시키고 스킬 (시체 폭발, 뼈 감옥)을 해금함)
  - 군마 (다크나이트의 공격이 전체공격으로 전환)
  - 부식 (저주를 공격력 감소에서 방어력 감소로 바꿈)
  - 광역 (저주의 효과를 낮추지만 전체에게 저주를 부여)
  - 연쇄 (시체폭발이 스켈레톤을 포함한 모든 시체의 폭발로 바꿈)
  - 흡혈 (영혼 흡수가 체력을 회복시킴)
  - 고양 (영혼 흡수가 마나 회복을 하지 않고 미니언들에게 버프를 부여)
  - 갈취 (영혼 전달이 스켈레톤으로부터 체력을 흡수함)
  - 피로 엮은 (mp를 모두 체력으로 전환 + 30%체력 증가)

  어픽스 효과,추천 수식어 (이름 앞),예시 명칭
  뼈 창 (진형 후방 타격),[관통하는] 또는 [심연의],관통하는 뼈 지팡이
  뼈 감옥 (구속 수 +1),[결박의] 또는 [집착하는],결박의 암흑 오브
  스켈레톤 보유 수 증가,[군주의] 또는 [폭압적인],군주의 해골 반지
  스켈레톤 생성 등급 향상,[선별된] 또는 [정예의],선별된 사령관의 검
  스켈레톤 사망 시 폭발,[종말의] 또는 [불온한],종말의 영혼 가루
  Frostborne (공격 시 디버프),[영겁의 서리],영겁의 서리 낫
  시체 전체 부활 (대량 소환),[대재앙의] 또는 [군단의],대재앙의 성물
  가시 골렘 (반격 데미지),[응징하는] 또는 [가시 박힌],응징하는 수호 석판
  골렘의 괴성 (타겟팅 강제),[울부짖는],울부짖는 강철 갑옷
  다크나이트 → 리치 전직,[불멸자의] 또는 [금기된],불멸자의 고서
  다크나이트 (전체 공격 전환),[전쟁광의],전쟁광의 대검

### 스킬 개요

- 스켈레톤 생성
- 영혼 흡수
- 시체 폭발 (전체 공격)
- 저주 (랜덤한 1명에게 공격력 감소 부여)
- 뼈 창 (앞 또는 뒤 타겟 2에 높은 데미지)
- 뼈 감옥 (맨 앞 적 공격 금지)
- 영혼 전달 (네크로멘서의 체력 전달)
- 뼈 폭풍(스켈레톤 비례 데미지)
