## 0. 남은 작업 정리
- epic: affix 추가 중

죽음의 표식에 hp표기
공격대상이 npc일 경우 confirm한 번 추가합시다
zed가 아이템도 사줘야할 거 같은데.. 판매가의 반정도되는 경험치로 사준다거나..
지휘 스킬 만들고싶다.. 네크로맨서가 표식을 남긴 적을 주 타겟으로 공격..
플레이어도 맨 앞에서부터 공격해야하지 않나..? 오히려 더 그래야하지 않나..?
look에 대해 안내방법 생각하기..
look에 npc도 보이도록 하기..
줍기에서 아이템 주 스탯 비교 표기 추가..
보스 방 이동 전 확인창 띄우기?
첫 보스 잡은 뒤 사신과 대화를 하고 난 뒤에 지하 3층으로 가도록 하기..

- 타겟 지시하는 디버프 사신 스킬 추가 필요할 것 같음..
- 관통(방어무시) 스킬, 회피불가 스킬, 고정 데미지 스킬
- 상태 디버프 
    - 혼란 (확률적 아군 공격)
    - 공포 (낮은 확률적 전장 이탈 -> 사망처리)

- 골렘, 기사의 부활 장소 추가 필요.. 추가 npc...전 레지스탕스 일원 닥터 제드.. 첫 보스 클리어 시 지하 3층에 레지스탕스 본부가 있다는 이벤트
- 그냥 진행도 전달하기 용 npc 에코, complete event와 레지스탕스 기여도에 따라 방송 내용 바뀔 수 있음

- 스켈레톤 보존 아공간 1~2개의 스켈레톤 보관 & 교체 가능

- 골렘의 강화
이원화된 강화: 레지스탕스(골드 소모/방어력 증가/Mecanic 슬롯)와 미친 과학자(EXP 소모/공격력 증가/Soul 슬롯) 중 선택하여 최대 5칸을 채웁니다.
패널티와 적대도: 타 진영 스택이 있으면 강화 비용이 단계별로 할증되며, Soul 스택이 있는 상태에서 레지스탕스 강화 시 적대도가 8씩 상승합니다.
전략적 초기화: 빌드 수정을 위해 해당 진영에서 강화스택을 지울 수 있습니다. 대량의 자원이 소모되며 투자한 비용은 반환되지 않습니다.

- 다크나이트 강화
장비 이식과 스탯: 플레이어의 장비(Common~Epic)를 소모하여 슬롯을 채우며, 장비 등급이 높을수록 다크나이트에게 이식되는 스탯 보너스가 커집니다.
스택별 특화: soul 2스택 시 [원혼의 검기 스킬(S)]을 얻으며, 장비 2스택 시 추가방어력 부여,  5스택 시 [30% 확률 기절(M)] 또는 [5% 확률로 공포(사망처리)] 효과가 발동합니다.
전략적 빌드: 골렘과 마찬가지로 각 진영에서 스택지우기 가능(선택 삭제)

- 상점(아이템 구입, 판매)
  - 마야 -> (골렘 해금 && 기부금에 따라) 골렘 강화 해금, 장비로 골렘 스탯 강화 가능
  - 케인 -> (기사 해금 && 기부금에 따라) 용병 고용 해금, 고용 시 기여도 증가, 기부금 납부, 납부 시 factionHostility 수치 감소 & 기여도 증가
  - 용병 부활, npc 공격 시 factionHostility 수치 증가 (boolean -> number), 카르마 수치 증가

- 다크나이트와는 대화도 할 수 있도록 해보자?

- 레어도가 높은 스켈레톤도 색상값 부여하기, 관련해서 라이브러리 적용 알아보기
- 두 팩션과 같이 있을 때 한 팩션을 사망시킨 후 부활 또는 스킬을 하면 npc의 관계수치가 하락하는 로직..?
- 1층 복도를 지날 때 현재 클리어된 이벤트에 따라 안내방송이 출력
- 전투 중 취소해서 catch에 걸리면 패널티를 줄까...
- npc 대화 기능 고도화..?

# 🚉 터미널: 죽음이 너희를 자유케 하리라

## 1. 세계관 및 컨셉

- **공간:** 사후 세계의 종착역이자 거대한 **지하 기차역(Terminal)**.
- **주인공:** 사신에게 결박된 채 지하로 던져진 전생의 군주(네크로맨서).
- **사신(Death):** B1 대합실에서 영혼의 배차를 관리하는 오만하고 강력한 **역장**.
- **핵심 서사:** 지하 5층까지 내려가 힘을 기른 뒤, 열차를 탈취해 역주행하여 1층의 사신을 처단하는 복수극.

---

## 2. 지하 층별 구조 및 이벤트

| 층       | 구역명              | 핵심 컨셉 및 이벤트                      | 획득 요소                       |
| -------- | ------------------ | ------------------------------------- | ------------------------------ | ----------------------------------------------------------- |
| **B1**   | **지옥의 매표소**   | 모든 영혼의 시작점. 1층 보스 격퇴.       | **기망의 망토** (의심도 억제)   |
| **B2**   | **환승 통로**       | 선로 옆 비밀 구역에 숨어든 반격의 기반.  | **레지스탕스 거점** (스킬/거래) | npc: 레지스탕스, 몬스터: 고블린, 코볼트 같은 소형종..                  |
| **B3**   | **강철 하역장**     | 기계 잔해와 화물이 쌓인 정비 구역.       | **골렘** (탱커) 소환 해금       | npc: 노동자, 몬스터: 오우거, 오크..                                |
| **B4**   | **귀빈용 승강장**   | 타락한 영혼들이 머무는 화려한 감옥.      | **나이트** (딜러) 해방          | npc: 하위 신 또는 그들의 종자, 몬스터: 도적 졸개 집단, 미믹 이벤트     |
| **B5**   | **심연의 차량기지** | 멈춰버린 열차들의 묘지. **열차 탈취**.   | **지상행 급행열차 활성화**      | npc: 노동자, 몬스터: 도적 집단 본부, 언데드류                         |
| **결전** | **B1 대합실**       | 열차를 타고 급습하여 사신과 최후의 결전. | **엔딩 분기 결정**              |

영혼 전력 발전소: "에테르 컨버터"
"침묵의 기록보관소"
"연옥의 쓰레기장"
---

## 3. 군단 및 성장 시스템

### **[소환수 진형 및 특성]**

- **피해 우선순위:** **골렘 → 스켈레톤 → 용병 → 나이트 → 주인공** (전열 붕괴 시 본체 타격)
- **스켈레톤(3):** 기본 보병. 시체를 소모하여 소환.
- **나이트(1):** **장비 착용 가능**.
- **골렘(1):** 거대 고철 탱커. **회복 불가**. 파괴 시 1층에서 수리.

### **[경제 및 스킬]**

- **경험치(영혼 조각):** 사신(기초 스탯) 또는 레지스탕스(판타지 기술)에게 지불.
- **기술 연마:** 레지스탕스에게 경험치를 써서 정통 판타지 강령술(시체 폭발, 뼈 가시 등) 강화.
- **장비 거래:** 획득한 장비를 레지스탕스에게 팔아 나이트용 무기를 사거나 거점 전력 강화.

---

## 4. 성향(카르마) 및 엔딩 시스템

| 성향     | 카르마 조건         | 빌드 특징                                     | 엔딩 결과                           |
| -------- | ------------------- | --------------------------------------------- | ----------------------------------- |
| **지배** | **NPC 학살 / 강탈** | **본체 화력 특화.** 적의 생명을 직접 흡수.    | 사신을 찬탈하고 새로운 역장이 됨.   |
| **복수** | **명예로운 복수**   | **군단 협격 특화.** 소환수와 장비 시너지.     | 열차로 지상 경계 돌파. 인간계 강림. |
| **안식** | **NPC 구원 / 희생** | **유틸 및 생존 특화.** 가장 어려운 성자의 길. | 모든 영혼과 함께 완전한 소멸(안식). |

---

## 5. 주요 게임 메커니즘

- **의심도 시스템:** 주인공이 강해질수록 사신이 견제함(방송 패널티, 중보스 난입).
- **전투 명령어:** `공격` 입력 시 군단 전체가 일제히 타겟 점사.
- **조우 방식:** 비선공(선택적 살생), 선공(강제 전투), 도주 불가(사신의 사냥개) 존재.
- **텍스트 연출:** 윈도우 터미널 창에 기차역 특유의 안내 방송과 증기 소리를 텍스트로 묘사.

---

## 아이템 개요

- 아이템의 높은 등급 시 추가 스탯 부여
- common 추가 스탯 없음
- rare: 추가 스탯부여
  - (추가 공격력, 추가 방어력, 크리티컬, 회피, 민첩, 스킬 대미지 증가)
- epic: affix 보유

  - 기습: 뼈 창이 적 진형의 뒤에서 날라온다
  - 군주: 스켈레톤 보유 수 증가 ( 1 ~ 4 )
  - 정예: 스켈레톤 생성 등급 향상
  - 종말: 스켈레톤 죽을 시 폭발
  - 서리: Frostborne(공격 시 디버프 부여)
  - 군단: 스켈레톤 부활 시 사역가능한 수 만큼의 시체 전체 부활
  - 가시: 가시 골렘 (골렘에 반격 대미지 부여)
  - 포효: 골렘의 괴성 (뒷 열 공격 스킬의 타게팅을 골렘에게 가져옴)
  - 금기: 다크나이트를 리치로 전직시키고 스킬 (저주, 뼈 감옥)을 해금함
  - 군마: 다크나이트가 전체공격 스킬을 보유
  - 부식: 저주를 공격력 감소에서 방어력 감소로 바꿈
  - 광역: 저주의 효과를 낮추지만 전체에게 저주를 부여
  - 연쇄: 시체폭발이 스켈레톤을 포함한 모든 시체의 폭발로 바꿈
  - 흡혈: 영혼 흡수가 체력을 회복시킴
  - 고양: 영혼 전달이 미니언 중 한 개체에게 버프를 부여 + 미니언의 체력 감소
  - 피로: 엮은 (mp를 모두 체력으로 전환 + 30%체력 증가)
  - 부활: 뼈 기술 후 소모된 미니언 부활
  - 기억: 메모라이즈 수 증가 (1~2) -> 장비 해제 시 confirm 노출 필요함!
  - 해주: 스켈레톤 사제 또는 수도자가 디버프를 해제하기도 합니다

### 스킬 개요

- 스켈레톤 생성
- 영혼 흡수
- 시체 폭발 (전체 공격)
- 영혼 전달 (미니언 중 1개의 개체에게 네크로멘서의 체력 전달)
- 저주 (1명을 선택하여 공격력 감소 [5% 나머지는 버림]를 3턴동안 부여)
- 뼈 창 (앞 또는 뒤 타겟 2에 높은 데미지)
- 뼈 감옥 (1명을 선택하여 3턴간 공격 봉인)
- 뼈 폭풍(스켈레톤 비례 데미지)
